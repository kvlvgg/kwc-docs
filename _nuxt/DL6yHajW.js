import{V,W as E,C as x,X as b,Y as _,Z as y,$ as H,a0 as d,G as w,a1 as M,a2 as O,a3 as P,a4 as L,a5 as p,a6 as A,a7 as z,a8 as F,a9 as G,aa as U,H as j,ab as v,ac as D,ad as W,ae as I,af as K,ag as X,ah as Y,ai as Z,aj as q,ak as J,al as Q,am as ee}from"#entry";/**
* @vue/server-renderer v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const re=G(",key,ref,innerHTML,textContent,ref_key,ref_for");function te(e,r){let t="";for(const s in e){if(re(s)||U(s)||r==="textarea"&&s==="value")continue;const n=e[s];s==="class"?t+=` class="${ne(n)}"`:s==="style"?t+=` style="${oe(n)}"`:s==="className"?t+=` class="${String(n)}"`:t+=se(s,n,r)}return t}function se(e,r,t){if(!W(r))return"";const s=t&&(t.indexOf("-")>0||I(t))?e:K[e]||e.toLowerCase();return X(s)?Y(r)?` ${s}`:"":Z(s)?r===""?` ${s}`:` ${s}="${p(r)}"`:(console.warn(`[@vue/server-renderer] Skipped rendering unsafe attribute name: ${s}`),"")}function ne(e){return p(j(e))}function oe(e){if(!e)return"";if(d(e))return p(e);const r=v(ie(e));return p(D(r))}function ie(e){if(!A(e)&&q(e)){const r={};for(const t in e)t.startsWith(":--")?r[t.slice(1)]=J(e[t]):r[t]=e[t];return r}return e}function ae(e,r,t,s,n){e("<!--teleport start-->");const o=n.appContext.provides[b],i=o.__teleportBuffers||(o.__teleportBuffers={}),a=i[t]||(i[t]=[]),f=a.length;let u;if(s)r(e),u="<!--teleport start anchor--><!--teleport anchor-->";else{const{getBuffer:c,push:l}=$();l("<!--teleport start anchor-->"),r(l),l("<!--teleport anchor-->"),u=c()}a.splice(f,0,u),e("<!--teleport end-->")}{const e=Q(),r=(t,s)=>{let n;return(n=e[t])||(n=e[t]=[]),n.push(s),o=>{n.length>1?n.forEach(i=>i(o)):n[0](o)}};r("__VUE_INSTANCE_SETTERS__",t=>t),r("__VUE_SSR_SETTERS__",t=>t)}function le(e,r){throw new Error("On-the-fly template compilation is not supported in the ESM build of @vue/server-renderer. All templates must be pre-compiled into render functions.")}const{createComponentInstance:fe,setCurrentRenderingInstance:S,setupComponent:ce,renderComponentRoot:C,normalizeVNode:ue}=V;function $(){let e=!1;const r=[];return{getBuffer(){return r},push(t){const s=d(t);if(e&&s){r[r.length-1]+=t;return}r.push(t),e=s,(_(t)||A(t)&&t.hasAsync)&&(r.hasAsync=!0)}}}function B(e,r=null,t){const s=e.component=fe(e,r,null),n=ce(s,!0),o=_(n);let i=s.sp;return o||i?Promise.resolve(n).then(()=>{if(o&&(i=s.sp),i)return Promise.all(i.map(f=>f.call(s.proxy)))}).catch(y).then(()=>R(s,t)):R(s,t)}function R(e,r){const t=e.type,{getBuffer:s,push:n}=$();if(H(t)){let o=C(e);if(!t.props)for(const i in e.attrs)i.startsWith("data-v-")&&((o.props||(o.props={}))[i]="");g(n,e.subTree=o,e,r)}else{(!e.render||e.render===y)&&!e.ssrRender&&!t.ssrRender&&d(t.template)&&(t.ssrRender=le(t.template));const o=e.ssrRender||t.ssrRender;if(o){let i=e.inheritAttrs!==!1?e.attrs:void 0,a=!1,f=e;for(;;){const c=f.vnode.scopeId;c&&(a||(i={...i},a=!0),i[c]="");const l=f.parent;if(l&&l.subTree&&l.subTree===f.vnode)f=l;else break}if(r){a||(i={...i});const c=r.trim().split(" ");for(let l=0;l<c.length;l++)i[c[l]]=""}const u=S(e);try{o(e.proxy,n,e,i,e.props,e.setupState,e.data,e.ctx)}finally{S(u)}}else e.render&&e.render!==y?g(n,e.subTree=C(e),e,r):(t.name||t.__file,n("<!---->"))}return s()}function g(e,r,t,s){const{type:n,shapeFlag:o,children:i,dirs:a,props:f}=r;switch(a&&(r.props=de(r,f,a)),n){case L:e(p(i));break;case O:e(i?`<!--${P(i)}-->`:"<!---->");break;case M:e(i);break;case w:r.slotScopeIds&&(s=(s?s+" ":"")+r.slotScopeIds.join(" ")),e("<!--[-->"),T(e,i,t,s),e("<!--]-->");break;default:o&1?pe(e,r,t,s):o&6?e(B(r,t,s)):o&64?me(e,r,t,s):o&128&&g(e,r.ssContent,t,s)}}function T(e,r,t,s){for(let n=0;n<r.length;n++)g(e,ue(r[n]),t,s)}function pe(e,r,t,s){const n=r.type;let{props:o,children:i,shapeFlag:a,scopeId:f}=r,u=`<${n}`;o&&(u+=te(o,n)),f&&(u+=` ${f}`);let c=t,l=r;for(;c&&l===c.subTree;)l=c.vnode,l.scopeId&&(u+=` ${l.scopeId}`),c=c.parent;if(s&&(u+=` ${s}`),e(u+">"),!F(n)){let m=!1;o&&(o.innerHTML?(m=!0,e(o.innerHTML)):o.textContent?(m=!0,e(p(o.textContent))):n==="textarea"&&o.value&&(m=!0,e(p(o.value)))),m||(a&8?e(p(i)):a&16&&T(e,i,t,s)),e(`</${n}>`)}}function de(e,r,t){const s=[];for(let n=0;n<t.length;n++){const o=t[n],{dir:{getSSRProps:i}}=o;if(i){const a=i(o,e);a&&s.push(a)}}return z(r||{},...s)}function me(e,r,t,s){const n=r.props&&r.props.to,o=r.props&&r.props.disabled;if(!n)return[];if(!d(n))return[];ae(e,i=>{T(i,r.children,t,s)},n,o||o==="",t)}const{isVNode:he}=V;function h(e,r,t){if(!e.hasAsync)return r+k(e);let s=r;for(let n=t;n<e.length;n+=1){const o=e[n];if(d(o)){s+=o;continue}if(_(o))return o.then(a=>(e[n]=a,h(e,s,n)));const i=h(o,s,0);if(_(i))return i.then(a=>(e[n]=a,h(e,"",n)));s=i}return s}function N(e){return h(e,"",0)}function k(e){let r="";for(let t=0;t<e.length;t++){let s=e[t];d(s)?r+=s:r+=k(s)}return r}async function _e(e,r={}){if(he(e))return _e(E({render:()=>e}),r);const t=x(e._component,e._props);t.appContext=e._context,e.provide(b,r);const s=await B(t),n=await N(s);if(await ge(r),r.__watcherHandles)for(const o of r.__watcherHandles)o();return n}async function ge(e){if(e.__teleportBuffers){e.teleports=e.teleports||{};for(const r in e.__teleportBuffers)e.teleports[r]=await N(await Promise.all([e.__teleportBuffers[r]]))}}ee();export{_e as renderToString,Y as ssrIncludeBooleanAttr,te as ssrRenderAttrs,ne as ssrRenderClass,se as ssrRenderDynamicAttr,oe as ssrRenderStyle,ae as ssrRenderTeleport,g as ssrRenderVNode};
